(function(t){function r(r){for(var a,l,i=r[0],s=r[1],u=r[2],f=0,d=[];f<i.length;f++)l=i[f],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&d.push(n[l][0]),n[l]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);c&&c(r);while(d.length)d.shift()();return o.push.apply(o,u||[]),e()}function e(){for(var t,r=0;r<o.length;r++){for(var e=o[r],a=!0,i=1;i<e.length;i++){var s=e[i];0!==n[s]&&(a=!1)}a&&(o.splice(r--,1),t=l(l.s=e[0]))}return t}var a={},n={app:0},o=[];function l(r){if(a[r])return a[r].exports;var e=a[r]={i:r,l:!1,exports:{}};return t[r].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=t,l.c=a,l.d=function(t,r,e){l.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,r){if(1&r&&(t=l(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var a in t)l.d(e,a,function(r){return t[r]}.bind(null,a));return e},l.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(r,"a",r),r},l.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},l.p="/algod/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=r,i=i.slice();for(var u=0;u<i.length;u++)r(i[u]);var c=s;o.push([0,"chunk-vendors"]),e()})({0:function(t,r,e){t.exports=e("56d7")},"034f":function(t,r,e){"use strict";var a=e("1356"),n=e.n(a);n.a},1356:function(t,r,e){},"56d7":function(t,r,e){"use strict";e.r(r);e("cadf"),e("551c"),e("f751"),e("097d");var a=e("2b0e"),n=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("v-app",[e("v-app-bar",{attrs:{app:""}},[e("v-toolbar-title",{staticClass:"headline"},[e("span",[t._v("Mäluhõivamisalgoritmid")])])],1),e("v-snackbar",{attrs:{timeout:4e3,color:"error",top:""},model:{value:t.error,callback:function(r){t.error=r},expression:"error"}},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]),e("v-content",[e("v-container",{staticClass:"ma-0",staticStyle:{height:"100%"},attrs:{fluid:""}},[e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"2",dense:""}},t._l(t.algorithms.length,(function(r){return e("v-row",{key:r},[e("v-col",[e("v-card",{attrs:{width:"100%",flat:t.selectedAlgorithm!==r-1,raised:t.selectedAlgorithm===r-1},on:{click:function(e){return t.select(r)}}},[e("div",{staticClass:"pt-4 pb-4",staticStyle:{"text-align":"center"}},[t._v(t._s(t.algorithms[r-1].label)+"\n                ")])])],1)],1)})),1),e("v-divider",{attrs:{vertical:""}}),e("v-col",{attrs:{cols:"9",dense:""}},[e("v-row",{attrs:{dense:"",justify:"center"}},[e("v-col",[e("v-card",[e("v-row",{attrs:{dense:""}},[e("v-col",[e("v-card-title",{staticClass:"ml-2"},[t._v("Vali või sisesta järjend")])],1)],1),e("v-divider",{staticClass:"ml-4 mr-4"}),e("v-radio-group",{staticStyle:{width:"100%"},model:{value:t.radioGroup,callback:function(r){t.radioGroup=r},expression:"radioGroup"}},[t._l(t.predefinedPatterns,(function(r){return e("v-row",{key:r.label,staticClass:"ma-2",attrs:{dense:""}},[e("v-col",{attrs:{cols:"4"}},[e("v-radio",{attrs:{value:r.pattern}},[e("template",{slot:"label"},[e("span",{staticClass:"mr-12"},[t._v("\n                          "+t._s(r.label)+"\n                        ")])])],2)],1),e("v-col",{attrs:{cols:"6"}},[e("span",[t._v("\n                      "+t._s(r.pattern)+"\n                    ")])])],1)})),e("v-row",{staticClass:"ma-2 mb-0",attrs:{dense:""}},[e("v-col",{attrs:{cols:"4"}},[e("v-radio",{attrs:{value:"custom"}},[e("template",{slot:"label"},[e("span",{staticClass:"mr-12"},[t._v("\n                          Enda oma\n                        ")])])],2)],1),e("v-col",{attrs:{cols:"5"}},[e("v-text-field",{staticClass:"ma-0 pa-0",on:{click:function(r){t.radioGroup="custom"}},model:{value:t.customPattern,callback:function(r){t.customPattern=r},expression:"customPattern"}})],1),e("v-spacer"),e("v-col",{staticClass:"pb-4 mr-4",staticStyle:{"flex-flow":"0","flex-shrink":"1"},attrs:{"no-gutters":""}},[e("v-btn",{attrs:{color:"green",text:"",outlined:""},on:{click:t.save}},[t._v("Käivita")])],1)],1)],2)],1)],1)],1)],1)],1),e("v-row",{attrs:{justify:"center",dense:""}},[e("v-col",{ref:"canvasWrapper",attrs:{align:"center"}},[e("canvas",{ref:"drawing"})])],1)],1)],1)],1)},o=[],l=(e("28a5"),e("55dd"),e("ac4d"),e("8a81"),e("ac6a"),{maxTime:50,decodePattern:function(t){var r=t.split(";");return r.map((function(t,r){var e=t.split(",");return{memoryUsage:parseInt(e[0]),duration:parseInt(e[1]),label:String.fromCharCode(r+65)}}))},initMemory:function(){for(var t=[],r=0;r<l.maxTime;r++)t.push(null);return t},findSuitableMemoryBlocks:function(t,r){for(var e=[],a=0;a<t.length;a++){var n=0;while(a+n<t.length&&null===t[a+n])n++;n>=r.memoryUsage&&e.push({start:a,length:n}),a+=n}return e},fillMemory:function(t,r,e){for(var a=e;a<e+r.memoryUsage;a++)t[a]=r},memoryAlgorithmWrapper:function(t){return function(r){for(var e=l.decodePattern(r),a=l.initMemory(),n=e.map((function(t,r){return t.duration+r})).reduce((function(t,r){return Math.max(t,r)}),0),o=[],i=[],s=0;s<n;s++){var u=!0,c=!1,f=void 0;try{for(var d,p=o[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var v=d.value;v.duration--}}catch(m){c=!0,f=m}finally{try{u||null==p.return||p.return()}finally{if(c)throw f}}o=o.filter((function(t){return 0!==t.duration}));for(var h=0;h<a.length;h++)null!==a[h]&&0===a[h].duration&&(a[h]=null);if(s<e.length&&(o.push(e[s]),!t(a,e[s])))return i.push(a.map((function(t){return t}))),i.push(-1),i;i.push(a.map((function(t){return t})))}return i}},last:function(t){var r=function(t,r){var e=l.findSuitableMemoryBlocks(t,r);if(0===e.length)return!1;var a=e[e.length-1];return l.fillMemory(t,r,a.start),!0};return l.memoryAlgorithmWrapper(r)(t)},best:function(t){var r=function(t,r){var e=l.findSuitableMemoryBlocks(t,r);if(0===e.length)return!1;e.sort((function(t,r){return t.length>r.length?1:r.length>t.length?-1:0}));var a=e[0];return l.fillMemory(t,r,a.start),!0};return l.memoryAlgorithmWrapper(r)(t)},worst:function(t){var r=function(t,r){var e=l.findSuitableMemoryBlocks(t,r);if(0===e.length)return!1;e.sort((function(t,r){return t.length>r.length?-1:r.length>t.length?1:0}));var a=e[0];return l.fillMemory(t,r,a.start),!0};return l.memoryAlgorithmWrapper(r)(t)},random:function(t){var r=function(t,r){var e=l.findSuitableMemoryBlocks(t,r);if(0===e.length)return!1;var a=e[Math.floor(Math.random()*e.length)];return l.fillMemory(t,r,a.start),!0};return l.memoryAlgorithmWrapper(r)(t)}}),i=l,s={name:"App",data:function(){return{result:void 0,radioGroup:void 0,error:!1,errorMessage:"",colors:["#206F71","#8BC9AE","#FCEBA9","#FCB06F","#D94B50","#D291BC","#C1E7E3","#FFDCF4","#AFDAC1","#B399D4"],colorIndex:0,algorithms:[{label:"Last-Fit",func:i.last},{label:"Best-Fit",func:i.best},{label:"Worst-Fit",func:i.worst},{label:"Random-Fit",func:i.random}],customPattern:"",selectedAlgorithm:0,predefinedPatterns:[{label:"Esimene",pattern:"1,8;35,4;3,6;4,2;1,4;3,3;1,2;5,1;50,1"},{label:"Teine",pattern:"4,5;2,7;9,2;4,6;7,1;6,4;8,8;3,6;1,10;9,2"},{label:"Kolmas",pattern:"5,10;6,6;3,9;8,4;3,6;5,12;1,4;15,3;3,4;9,7"},{label:"Ekstra pikk",pattern:"1,8;35,4;8,6;4,2;2,2;5,3;1,2;5,4;4,4;2,8;25,4;8,6;4,6;2,14;5,3;1,2;5,12;4,1;10,7;4,4;6,6"}],labels:[]}},methods:{save:function(){this.error=!1;try{var t;t="custom"===this.radioGroup?this.customPattern:this.radioGroup,this.result=this.algorithms[this.selectedAlgorithm].func(t),this.labels=t.split(";").map((function(t,r){return String.fromCharCode(r+65)+" "+t})),console.log(this.result)}catch(r){return this.error=!0,void(this.errorMessage=r)}this.drawMemory(this.result)},drawMemory:function(t){var r=this.$refs["drawing"],e=this.$refs["canvasWrapper"];r.width=Math.min(e.clientWidth-24,1400);var a=r.getContext("2d"),n=Math.floor(r.width/55);a.fillStyle="black",r.height=n*(t.length+3),a.font="12px Arial",a.fillText("Etapp",0,2*n),a.fillText("Lisatud",2.7*n,2*n-12),a.fillText("protsess",2.7*n,2*n);for(var o=0;o<i.maxTime;o++){var l=n*(o+5.4),s=1.8*n;a.fillText(o,l,s)}for(var u=0;u<t.length;u++){if(-1===t[u])return this.error=!0,void(this.errorMessage="Protsessi "+this.labels[u-(u>0?1:0)]+" paigutamiseks ei leidunud ruumi");var c=n*(u+2);a.font="12px Arial",a.fillText(u+1,n,c+n/1.3),u<this.labels.length&&a.fillText(this.labels[u],3*n,c+n/1.3);for(var f=0;f<i.maxTime;f++){var d=n*(f+5)+1,p=n+1,v=n+1;a.fillStyle=null===t[u][f]?"white":this.colors[t[u][f].label.charCodeAt(0)%this.colors.length],a.fillRect(d,c,p,v),a.beginPath(),a.rect(d,c,p,v),a.stroke(),a.fillStyle="black",a.font="10px Arial",a.fillText(null===t[u][f]?"-":t[u][f].label,d+n/2.4,c+n/1.5)}}},select:function(t){this.selectedAlgorithm=t-1,this.save()}},computed:{},created:function(){this.radioGroup=this.predefinedPatterns[0].pattern},watch:{radioGroup:function(){this.save()}}},u=s,c=(e("034f"),e("2877")),f=e("6544"),d=e.n(f),p=e("7496"),v=e("40dc"),h=e("8336"),m=e("b0af"),g=e("99d9"),b=e("62ad"),y=e("a523"),w=e("a75b"),x=e("ce7e6"),C=e("67b6"),M=e("43a6"),k=e("0fd9"),S=e("2db4"),_=e("2fa4"),A=e("8654"),P=e("2a7f"),T=Object(c["a"])(u,n,o,!1,null,null,null),V=T.exports;d()(T,{VApp:p["a"],VAppBar:v["a"],VBtn:h["a"],VCard:m["a"],VCardTitle:g["a"],VCol:b["a"],VContainer:y["a"],VContent:w["a"],VDivider:x["a"],VRadio:C["a"],VRadioGroup:M["a"],VRow:k["a"],VSnackbar:S["a"],VSpacer:_["a"],VTextField:A["a"],VToolbarTitle:P["a"]});var j=e("f309");a["a"].use(j["a"]);var B=new j["a"]({icons:{iconfont:"mdi"}});a["a"].config.productionTip=!1,new a["a"]({vuetify:B,render:function(t){return t(V)}}).$mount("#app")}});
//# sourceMappingURL=app.e6f83bff.js.map