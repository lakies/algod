(function(t){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],a=!0,s=1;s<r.length;s++){var l=r[s];0!==n[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=r[0]))}return t}var a={},n={app:0},o=[];function i(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=a,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(r,a,function(e){return t[e]}.bind(null,a));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/algod/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var a=r("1356"),n=r.n(a);n.a},1356:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",[r("v-app-bar",{attrs:{app:""}},[r("v-toolbar-title",{staticClass:"headline"},[r("span",[t._v("Failisüsteemi ühetasemeline indekseeritud paigutamine")])])],1),r("v-snackbar",{attrs:{timeout:4e3,color:"error",top:""},model:{value:t.error,callback:function(e){t.error=e},expression:"error"}},[t._v("\n    "+t._s(t.errorMessage)+"\n  ")]),r("v-content",[r("v-container",{staticClass:"ma-0",staticStyle:{height:"100%"},attrs:{fluid:""}},[r("v-row",{attrs:{dense:""}},[r("v-col",{attrs:{cols:"8",dense:""}},[r("v-row",{attrs:{dense:"",justify:"center"}},[r("v-col",[r("v-card",[r("v-row",{attrs:{dense:""}},[r("v-col",[r("v-card-title",{staticClass:"ml-2"},[t._v("Vali või sisesta järjend")])],1)],1),r("v-divider",{staticClass:"ml-4 mr-4"}),r("v-radio-group",{staticStyle:{width:"100%"},model:{value:t.radioGroup,callback:function(e){t.radioGroup=e},expression:"radioGroup"}},[t._l(t.predefinedPatterns,(function(e){return r("v-row",{key:e.label,staticClass:"ma-2",attrs:{dense:""}},[r("v-col",{attrs:{cols:"4"}},[r("v-radio",{attrs:{value:e.pattern}},[r("template",{slot:"label"},[r("span",{staticClass:"mr-12"},[t._v("\n                          "+t._s(e.label)+"\n                        ")])])],2)],1),r("v-col",{attrs:{cols:"6"}},[r("span",[t._v("\n                      "+t._s(e.pattern)+"\n                    ")])])],1)})),r("v-row",{staticClass:"ma-2 mb-0",attrs:{dense:""}},[r("v-col",{attrs:{cols:"4"}},[r("v-radio",{attrs:{value:"custom"}},[r("template",{slot:"label"},[r("span",{staticClass:"mr-12"},[t._v("\n                          Enda oma\n                        ")])])],2)],1),r("v-col",{attrs:{cols:"5"}},[r("v-text-field",{staticClass:"ma-0 pa-0",on:{click:function(e){t.radioGroup="custom"}},model:{value:t.customPattern,callback:function(e){t.customPattern=e},expression:"customPattern"}})],1),r("v-spacer"),r("v-col",{staticClass:"pb-4 mr-4",staticStyle:{"flex-flow":"0","flex-shrink":"1"},attrs:{"no-gutters":""}},[r("v-btn",{attrs:{color:"green",text:"",outlined:""},on:{click:t.save}},[t._v("Käivita")])],1)],1)],2)],1)],1)],1)],1),r("v-divider",{attrs:{vertical:""}}),r("v-col",{attrs:{cols:"3",dense:""}},[r("v-row",{attrs:{dense:"",justify:"center"}},[r("v-col",[r("v-card",{staticClass:"pa-2"},[r("v-row",[r("v-card-title",[t._v("\n                    Arvutused:\n                  ")])],1),r("ul",[r("li",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("span",[t._v("Allesjäänud failidest on fragmenteerunud "),r("u",[t._v(t._s(t.fragmentation?t.parsePercent(t.fragmentation.fragmentedFiles):"_"))]),t._v(".")])])],1)],1),r("li",[r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("span",[t._v("Fragmenteerunud failidele kulub  "),r("u",[t._v(t._s(t.fragmentation?t.parsePercent(t.fragmentation.fragmentedData):"_"))]),t._v(" kasutatud ruumist.")])])],1)],1)])],1)],1)],1)],1)],1),r("v-row",{attrs:{justify:"center",dense:""}},[r("v-col",{ref:"canvasWrapper",attrs:{align:"center"}},[r("canvas",{ref:"drawing"})])],1)],1)],1)],1)},o=[],i=(r("ac6a"),r("456d"),r("28a5"),{maxSize:50,decodePattern:function(t){var e=t.split(";");return e.map((function(t,e){var r=t.split(",");return"-"===r[1]?{type:"delete",label:r[0]}:{type:"new",size:parseInt(r[1]),label:r[0]}}))},calculateFragmentation:function(t){for(var e=0,r=0,a=0,n=0,o=0,i=Object.keys(t);o<i.length;o++){var s=i[o],l=t[s];l&&(a+=l.size,n++,l.fragmented&&(r+=l.size,e++))}return{fragmentedFiles:e/n,fragmentedData:r/a}},algorithm:function(t){var e=i.decodePattern(t),r=[],a=new Array(i.maxSize);r.push([].concat(a));for(var n={},o=0;o<e.length;o++){var s=e[o];if("delete"===s.type){n[s.label]=void 0;for(var l=0;l<a.length;l++)a[l]===s.label&&(a[l]=void 0)}else{for(var c={size:s.size,fragmented:!1},u=0,d=0;d<a.length;d++)if(void 0===a[d]){if(a[d]=s.label,u++,u===s.size)break}else u>0&&(c.fragmented=!0);if(u<s.size){r.push("Fail "+s.label+" ei mahu kettale ära.");break}n[s.label]=c}r.push([].concat(a))}var f=i.calculateFragmentation(n);return{fragmentation:f,memory:r}}}),s=i,l={name:"App",data:function(){return{result:void 0,radioGroup:void 0,error:!1,errorMessage:"",colors:["#206F71","#8BC9AE","#FCEBA9","#FCB06F","#D94B50","#D291BC","#C1E7E3","#FFDCF4","#AFDAC1","#B399D4","#6B7B6E","#4F86C6"],colorIndex:0,algorithms:[{label:"Last-Fit",func:s.algorithm}],customPattern:"",selectedAlgorithm:0,fragmentation:void 0,predefinedPatterns:[{label:"Esimene",pattern:"A,2;B,3;A,-;C,4;D,5;B,-;E,15"},{label:"Teine",pattern:"X,5;G,3;K,10;G,-;J,15;X,-;B,1;A,2;H,4"},{label:"Kolmas",pattern:"D,3;H,7;S,12;A,8;J,3;T,6;H,-;X,2;V,16;X,-;Y,1;S,-;H,6"}],labels:[]}},methods:{parsePercent:function(t){return parseFloat(100*t).toFixed(0)+"%"},save:function(){this.error=!1;try{var t;if(t="custom"===this.radioGroup?this.customPattern:this.radioGroup,!t)return;this.result=this.algorithms[this.selectedAlgorithm].func(t),this.fragmentation=this.result.fragmentation,console.log(this.result)}catch(e){return this.error=!0,void(this.errorMessage=e)}this.drawMemory(this.result)},drawMemory:function(t){var e=this.$refs["drawing"],r=this.$refs["canvasWrapper"];e.width=Math.min(r.clientWidth-24,1400);var a=e.getContext("2d"),n=Math.floor(e.width/55);a.fillStyle="black",e.height=n*(t.memory.length+3),a.font="12px Arial";for(var o=0;o<s.maxSize;o++){var i=n*(o+2.9),l=1.8*n;a.fillText(o,i,l)}for(var c=0;c<t.memory.length;c++){if("string"===typeof t.memory[c])return this.error=!0,void(this.errorMessage=t.memory[c]);var u=n*(c+2);a.font="12px Arial",c>0&&a.fillText("Samm "+c,0,u+n/1.3),c<this.labels.length&&a.fillText(this.labels[c],3*n,u+n/1.3);for(var d=0;d<s.maxSize;d++){var f=n*(d+2.5)+1,v=n+1,p=n+1;a.fillStyle=void 0===t.memory[c][d]?"white":this.colors[t.memory[c][d].charCodeAt(0)%this.colors.length],a.fillRect(f,u,v,p),a.beginPath(),a.rect(f,u,v,p),a.stroke(),a.fillStyle="black",a.font="10px Arial",a.fillText(void 0===t.memory[c][d]?"-":t.memory[c][d],f+n/2.4,u+n/1.5)}}},select:function(t){this.selectedAlgorithm=t-1,this.save()}},computed:{},created:function(){this.radioGroup=this.predefinedPatterns[0].pattern},watch:{radioGroup:function(){this.save()}}},c=l,u=(r("034f"),r("2877")),d=r("6544"),f=r.n(d),v=r("7496"),p=r("40dc"),m=r("8336"),h=r("b0af"),g=r("99d9"),b=r("62ad"),y=r("a523"),w=r("a75b"),_=r("ce7e6"),x=r("67b6"),C=r("43a6"),k=r("0fd9"),A=r("2db4"),P=r("2fa4"),F=r("8654"),S=r("2a7f"),V=Object(u["a"])(c,n,o,!1,null,null,null),j=V.exports;f()(V,{VApp:v["a"],VAppBar:p["a"],VBtn:m["a"],VCard:h["a"],VCardTitle:g["a"],VCol:b["a"],VContainer:y["a"],VContent:w["a"],VDivider:_["a"],VRadio:x["a"],VRadioGroup:C["a"],VRow:k["a"],VSnackbar:A["a"],VSpacer:P["a"],VTextField:F["a"],VToolbarTitle:S["a"]});var B=r("f309");a["a"].use(B["a"]);var O=new B["a"]({icons:{iconfont:"mdi"}});a["a"].config.productionTip=!1,new a["a"]({vuetify:O,render:function(t){return t(j)}}).$mount("#app")}});
//# sourceMappingURL=app.d82fb6b1.js.map